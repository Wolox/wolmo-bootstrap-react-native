import i18next from 'i18next';
<%_ if (features.drawer) { _%>
import React from 'react';
import { Button } from 'react-native';
import { DrawerActions } from 'react-navigation-drawer';
<%_ } _%>
import Routes from '@constants/routes';
import { blue, white } from '@constants/colors';
import statusBarConfig from '@constants/statusBar';
import { <%_ if (features.tabs) { _%> AppTabOptions, <%_ } _%> Navigation, AppScreensNavOptions } from '@interfaces/navigation';

import fonts from './fonts';

// Default nav options for all screens
const defaultNavOptions = ({ navigation }: Navigation) => ({
  // Change screen title from i18n traslates files
  headerTitle: i18next.t(`APP:${navigation.state.routeName}`),
  // TODO: The following options are examples. Change them to your need
  headerStyle: {
    backgroundColor: blue
  },
  headerBackTitleStyle: {
    color: white
  },
  headerTitleStyle: {
    ...fonts.baseFont,
    color: white
  },
  headerTintColor: white
});

export const mainSwitchNavConfig = {
  initialRouteName: Routes.InitialLoading
};

<%_ if (features.login) { _%>
export const authStackNavConfig = {
  defaultNavigationOptions: defaultNavOptions,
  initialRouteName: Routes.Login
};

<%_ } _%>
export const appStackNavConfig = {
  defaultNavigationOptions: defaultNavOptions,
  initialRouteName: Routes.Home
};

<%_ if (features.drawer) { _%>
export const defaultDrawerNavOptions = {
  // TODO: Change them to your need
};

export const drawerStackNavConfig = {
  defaultNavigationOptions: defaultDrawerNavOptions
};

<%_ } _%>
// Default nav options for all screens
export const appScreensNavOptions: AppScreensNavOptions = {
  // TODO: Add here the screens nav options that changes with respect to
  // the default ones defined in defaultNavOptions, for example...
  /*
  [Routes.Home]: {
    headerTitle: 'Home'
  <%_ if (features.drawer) { _%>
  },
  */
  [Routes.Home]: ({ navigation }: Navigation) => ({
    headerRight: () => (
      <Button onPress={() => navigation.dispatch(DrawerActions.toggleDrawer())} title="Drawer" />
    )
  })
  <%_ } else {_%>
  }
  */
  <%_ } _%>
};

<%_ if (features.tabs) { _%>
export const appTabNavConfig: AppTabOptions = {
  // TODO: The following options are examples. Change them to your need
  // See: https://reactnavigation.org/docs/tab-navigator.html#tabnavigatorconfig
  tabBarPosition: 'bottom'
};

<%_ } _%>
export const statusBarStyles = {
  // TODO: Change these styles to customize the status bar
<%_ if (features.login) { _%>
  [Routes.Login]: statusBarConfig.blueStatusBar,
  [Routes.InitialLoading]: statusBarConfig.whiteStatusBar,
<%_ } _%>
<%_ if (features.tabs) { _%>
  [Routes.Tab1]: statusBarConfig.blueStatusBar,
  [Routes.Tab2]: statusBarConfig.blueStatusBar,
<%_ } _%>
  [Routes.Home]: statusBarConfig.blueStatusBar,
  default: statusBarConfig.transparentStatusBar
};
